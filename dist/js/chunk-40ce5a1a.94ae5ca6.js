(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40ce5a1a"],{"379e":function(e,t,r){},"5e6c":function(e,t,r){"use strict";var a=r("379e"),n=r.n(a);n.a},e04f:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form-item",{attrs:{prop:e.prop,label:"频道"}},[r("el-select",{attrs:{clearable:e.isClearable,placeholder:"请选择频道"},on:{change:e.hSlectChange},model:{value:e.channel_id,callback:function(t){e.channel_id=t},expression:"channel_id"}},e._l(e.channels,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)},n=[],l=(r("96cf"),r("1da1")),i=r("2423"),c={name:"MyChannelsVmodel",props:["value","isClearable","prop"],data:function(){return{channel_id:"",channels:[]}},methods:{hSlectChange:function(){this.$emit("input",this.channel_id)}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i["f"])();case 3:r=t.sent,e.channels=r.data.data.channels,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},o=c,s=r("2877"),u=Object(s["a"])(o,a,n,!1,null,null,null);t["a"]=u.exports},e8aa:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"publish-container"},[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[r("my-breadcrumb",[e._v("发布文章")])],1),r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.article,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"标题",prop:"title"}},[r("el-input",{model:{value:e.article.title,callback:function(t){e.$set(e.article,"title",t)},expression:"article.title"}})],1),r("el-form-item",{attrs:{label:"内容",prop:"content"}},[r("quill-editor",{attrs:{options:e.editorOption},model:{value:e.article.content,callback:function(t){e.$set(e.article,"content",t)},expression:"article.content"}})],1),r("el-form-item",{attrs:{label:"封面"}},[r("el-radio-group",{on:{change:function(t){e.article.cover.images=[]}},model:{value:e.article.cover.type,callback:function(t){e.$set(e.article.cover,"type",t)},expression:"article.cover.type"}},[r("el-radio",{attrs:{label:1}},[e._v("单图")]),r("el-radio",{attrs:{label:3}},[e._v("三图")]),r("el-radio",{attrs:{label:0}},[e._v("无图")]),r("el-radio",{attrs:{label:-1}},[e._v("自动")])],1)],1),e.article.cover.type>0?r("el-form-item",[r("el-row",{attrs:{gutter:10}},e._l(e.article.cover.type,(function(t,a){return r("el-col",{key:a,attrs:{xs:8,sm:6,md:6,lg:4}},[r("my-cover",{model:{value:e.article.cover.images[a],callback:function(t){e.$set(e.article.cover.images,a,t)},expression:"article.cover.images[idx]"}})],1)})),1)],1):e._e(),r("my-channels",{attrs:{prop:"channel_id"},model:{value:e.article.channel_id,callback:function(t){e.$set(e.article,"channel_id",t)},expression:"article.channel_id"}}),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v("发布文章")]),r("el-button",{on:{click:function(t){return e.onSubmit(!0)}}},[e._v("存入草稿")])],1)],1)],1)],1)},n=[],l=(r("96cf"),r("1da1")),i=r("a4fb"),c=r("e04f"),o=r("663f"),s=r("2423"),u=(r("8096"),r("14e1"),r("953d")),d={name:"AddArticle",props:{},components:{MyBreadcrumb:o["a"],quillEditor:u["quillEditor"],MyChannels:c["a"],MyCover:i["a"]},data:function(){return{rules:{title:[{required:!0,message:"请输入文章标题",trigger:"blur"},{min:5,max:30,message:"标题长度为5到30之间",trigger:"blur"}],content:[{required:!0,message:"请输入文章内容",trigger:"blur"},{min:20,message:"标题长度最少为20",trigger:"blur"}],channel_id:[{required:!0,message:"请选择频道",trigger:"blur"}]},article:{title:"testtest",channel_id:"",content:"testtesttest",cover:{type:0,images:[]}},channels:[],editorOption:{placeholder:"",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["image"]]}}}},methods:{hAddArticle:function(){var e=arguments,t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.length>0&&void 0!==e[0]&&e[0],r.prev=1,r.next=4,Object(s["a"])(t.article,a);case 4:t.$message.success("文章发布成功"),t.article.title="",t.article.content="",r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](1),console.log(r.t0),t.$message.error("文章发布失败");case 13:case"end":return r.stop()}}),r,null,[[1,9]])})))()},onSubmit:function(e){var t=this;this.$refs.form.validate((function(r){if(!r)return!1;t.hAddArticle(e)}))}}},m=d,p=(r("5e6c"),r("2877")),h=Object(p["a"])(m,a,n,!1,null,"7f71c20a",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-40ce5a1a.94ae5ca6.js.map